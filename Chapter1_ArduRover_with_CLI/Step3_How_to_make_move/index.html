<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Step3 How to make move - MAVROS Tutorial</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Step3 How to make move";
    var mkdocs_page_input_path = "Chapter1_ArduRover_with_CLI/Step3_How_to_make_move.md";
    var mkdocs_page_url = "/Chapter1_ArduRover_with_CLI/Step3_How_to_make_move/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> MAVROS Tutorial</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../about/">About</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter1 ArduRover with CLI</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Step1_How_to_change_mode/">Step1 How to change mode</a>
                </li>
                <li class="">
                    
    <a class="" href="../Step2_How_to_Arm_and_Disarm/">Step2 How to Arm and Disarm</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Step3 How to make move</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#how-to-move-ardupilot-sitl-rover">How to move Ardupilot-SITL Rover</a></li>
    

    <li class="toctree-l3"><a href="#initialize">Initialize</a></li>
    

    <li class="toctree-l3"><a href="#move-your-vehicle">Move your vehicle</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#move-your-vehicle-using-mavproxy-or-ardupilot-sitl">Move your vehicle using MAVProxy or Ardupilot-SITL</a></li>
        
            <li><a class="toctree-l4" href="#move-your-vehicle-using-ros-rqt">Move your vehicle using ROS rqt:++</a></li>
        
            <li><a class="toctree-l4" href="#change-vehicle-mode-using-ros-command-lines">Change vehicle mode using ROS command lines</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../Step4_How_to_set_and_get_parameters/">Step4 How to set and get parameters</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter2 ArduRover with Python</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../Chapter2_ArduRover_with_Python/Step1_Drive_rover/">Step1 Drive rover</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter2_ArduRover_with_Python/Step2_Detials/">Step2 Detials</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter2_ArduRover_with_Python/Step3_How_to_use/">Step3 How to use</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter3 ArduRover with C++</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../Chapter3_ArduRover_with_C++/Step1_Drive_rover/">Step1 Drive rover</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter3_ArduRover_with_C++/Step2_Details/">Step2 Details</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter3_ArduRover_with_C++/Step3_How_to_use/">Step3 How to use</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">MAVROS Tutorial</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Chapter1 ArduRover with CLI &raquo;</li>
        
      
    
    <li>Step3 How to make move</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="how-to-move-ardupilot-sitl-rover">How to move Ardupilot-SITL Rover</h1>
<p><em>Author:</em> Masoud Iranmehr</p>
<p><em>Github Page:</em> <a href="https://github.com/masoudir/mavros_tutorial">github.com/masoudir/mavros_tutorial</a></p>
<h1 id="initialize">Initialize</h1>
<p>Please follow steps mentioned in this <a href="../..">link</a>. Then you need to change the mode of your vehicle to "GUIDED"
using this <a href="../Step1_How_to_change_mode/">link</a> then you have to ARM your robot using one of the mentioned methods on this
[link]. Then it is time to move your vehicle which is described here. </p>
<h1 id="move-your-vehicle">Move your vehicle</h1>
<h2 id="move-your-vehicle-using-mavproxy-or-ardupilot-sitl">Move your vehicle using MAVProxy or Ardupilot-SITL</h2>
<p>We assume that your vehicle is in "GUIDED" mode, if it's not please follow the links mentioned in "Initialize" sector on
this page. Then move your vehicle using this command in MAVproxy or SITL:</p>
<ul>
<li><code>GUIDED lat lon alt</code> - Move vehicle to specified destination</li>
</ul>
<p>Parameters of (lat, lon, alt) are the location parameters to determive the destination of the vehicle.</p>
<p>Then if you want to stop vehicle from moving, you need this command:</p>
<ul>
<li><code>mode HOLD</code> - Stops the vehicle</li>
</ul>
<p>Also there are some other modes to make vehicle move such as "RTL", "MANUAL" and etc . Please refer to this 
<a href="https://ardupilot.org/dev/docs/rover-sitlmavproxy-tutorial.html">link</a> for further information.</p>
<h2 id="move-your-vehicle-using-ros-rqt">Move your vehicle using ROS rqt:++</h2>
<p>We assume that your vehicle is in "GUIDED" mode, if it's not please follow the links mentioned in "Initialize" sector on
this page. Then you need to add this plugin from rqt:</p>
<pre><code>Plugins -&gt; Topics -&gt; Message Publisher
</code></pre>
<p>Then you have to add a topic with the address of "/mavros/setpoint_raw/global" and click "+" to add. After that tou need 
to change the value of position ("latitude", "longitude", "altitude") in order to make a destination for the vehicle.
Then tick this topic to be published every 1 second (this duration can be changed) or even right click on the topic and 
then choose "Publish Selected Once" to publish only once. Then you can see that your vehicle moves to the specified 
destination.</p>
<h2 id="change-vehicle-mode-using-ros-command-lines">Change vehicle mode using ROS command lines</h2>
<p>You need to publish the destination location via this command:</p>
<ul>
<li><code>rostopic pub /mavros/setpoint_raw/global mavros_msgs/GlobalPositionTarget -1 "{'longitude': 14.51218,'latitude': 10.15785}"</code> - Move Rover to the specified destination</li>
</ul>
<p>Or if you want to specify only latitude (longitude=0):</p>
<ul>
<li><code>rostopic pub /mavros/setpoint_raw/global mavros_msgs/GlobalPositionTarget -1 "'longitude': 14.51218"</code> - Move Rover to the specified destination</li>
</ul>
<p>It is noted that "-1" determines that this command will be only published once. If you want to publish this message 
periodically, you have to remove "-1" argument and also you can use the argument of "-r RATE" to specify the publish rate for this message:</p>
<ul>
<li><code>rostopic pub /mavros/setpoint_raw/global mavros_msgs/GlobalPositionTarget -r 1"{'longitude': 14.51218,'latitude': 10.15785}"</code> - Move Rover to the specified destination with 1 Hz rate</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Step4_How_to_set_and_get_parameters/" class="btn btn-neutral float-right" title="Step4 How to set and get parameters">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Step2_How_to_Arm_and_Disarm/" class="btn btn-neutral" title="Step2 How to Arm and Disarm"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../Step2_How_to_Arm_and_Disarm/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Step4_How_to_set_and_get_parameters/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>

</body>
</html>
